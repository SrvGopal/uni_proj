<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Elastic Moduli — Studio Edition</title>

    <!-- Premium font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
      :root{
        --bg-1:#070a13;
        --bg-2:#0a0f1f;
        --glass:#0b1226aa;
        --stroke:#1f2a44;
        --muted:#9fb4d3;
        --text:#eef2ff;
        --primary:#7dd3fc;
        --primary-2:#34d399;
        --warn:#ef4444;
        --shadow: 0 30px 120px rgba(0,0,0,.55);
      }

      /* Reset */
      *{box-sizing:border-box}
      html,body{height:100%}

      /* Background */
      body{
        margin:0;
        color:var(--text);
        font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;
        background:
          radial-gradient(1200px 700px at 10% -10%, #0b1231 0%, #070a13 55%),
          radial-gradient(1000px 600px at 90% 110%, #041428 0%, #070a13 60%),
          var(--bg-1);
        display:grid;
        place-items:center;
        padding:28px;
      }

      /* Glass container */
      .shell{
        width:100%;
        max-width:1080px;
        border:1px solid var(--stroke);
        border-radius:22px;
        backdrop-filter: blur(14px) saturate(120%);
        background: linear-gradient(180deg, #0b1328cc 0%, #0a1122aa 100%);
        box-shadow: var(--shadow);
        overflow:hidden;
      }

      /* Header */
      .hero{
        position:relative;
        padding:28px 28px 18px 28px;
        border-bottom:1px solid var(--stroke);
      }
      .brand{
        display:flex; align-items:center; gap:14px;
      }
      .logo{
        width:42px; height:42px; border-radius:12px;
        background: conic-gradient(from 200deg, #60a5fa, #34d399, #60a5fa);
        box-shadow: 0 10px 30px rgba(52,211,153,.25);
        position:relative;
      }
      .logo::after{
        content:""; position:absolute; inset:6px;
        border-radius:9px; background:linear-gradient(180deg,#0b1226, #08101f);
      }
      .title{
        line-height:1.15;
      }
      .title h1{
        margin:0; font-size:24px; font-weight:800; letter-spacing:.3px;
      }
      .title p{
        margin:6px 0 0 0; color:var(--muted); font-size:13px;
      }

      /* Layout */
      .grid{
        display:grid; gap:0; grid-template-columns: 1.15fr .85fr;
      }
      .pane{
        padding:22px; border-right:1px solid var(--stroke);
      }
      .pane:last-child{ border-right:0; }

      /* Panels */
      .panel{
        background:linear-gradient(180deg, #0b1226cc 0%, #0a0f1fcc 100%);
        border:1px solid var(--stroke);
        border-radius:16px;
        padding:16px;
      }
      .panel + .panel{ margin-top:14px; }

      .head{
        display:flex; align-items:center; justify-content:space-between;
        margin-bottom:10px;
      }
      .head .label{
        font-size:12px; color:var(--muted); letter-spacing:.4px; text-transform:uppercase;
      }

      /* Inputs */
      label{display:block; font-size:12px; color:var(--muted); margin-bottom:6px;}
      input{
        width:100%; padding:12px 13px;
        border-radius:12px; border:1px solid #26324a;
        background:#0b1226; color:var(--text); outline:none;
        transition:.2s;
      }
      input:focus{ border-color:#5fa9ff; box-shadow:0 0 0 4px rgba(96,169,255,.12); }

      .inputs{
        display:grid; grid-template-columns:repeat(3,1fr); gap:12px;
      }
      .row{
        display:grid; grid-template-columns: 1fr auto; gap:12px; align-items:end;
      }

      /* Buttons */
      .btn{
        padding:12px 16px; border:0; border-radius:12px; cursor:pointer;
        font-weight:800; letter-spacing:.3px;
        color:#051222;
        background: linear-gradient(90deg, var(--primary), var(--primary-2));
        box-shadow: 0 10px 30px rgba(125,211,252,.15);
        transition: transform .08s ease, filter .2s ease;
      }
      .btn:hover{ filter:brightness(1.07); }
      .btn:active{ transform: translateY(1px); }

      .warn{ color:var(--warn); font-size:12px; margin-top:8px; }

      /* Results table (premium) */
      .kv{
        display:grid;
        grid-template-columns: minmax(160px,1fr) 10px minmax(160px,1fr);
        gap:10px 12px;
        align-items:center;
      }
      .k{
        text-align:right; color:#d6e1ff; font-weight:600;
      }
      .sep{ text-align:center; color:#334155; }
      .v{
        font-family: ui-monospace, Menlo, Consolas, monospace;
        background: #0b1328; border:1px solid #203050; border-radius:10px;
        padding:8px 10px;
      }

      /* Footer */
      .foot{
        padding:14px 22px; border-top:1px solid var(--stroke); color:var(--muted); font-size:12px;
      }

      /* Responsive */
      @media (max-width: 980px){
        .grid{ grid-template-columns:1fr; }
        .pane{ border-right:0; }
      }
      @media (max-width: 620px){
        .inputs{ grid-template-columns:1fr 1fr; }
      }
      @media (max-width: 420px){
        .inputs{ grid-template-columns:1fr; }
      }
      /* Visually hidden for section titles */
      .sr{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
    </style>
  </head>

  <body>
    <div class="shell">

      <!-- Header -->
      <div class="hero">
        <div class="brand">
          <div class="logo" aria-hidden="true"></div>
          <div class="title">
            <h1>Elastic Moduli — Studio</h1>
            <p>Premium calculator for cubic‑crystal properties with instant results.</p>
          </div>
        </div>
      </div>

      <!-- Main -->
      <div class="grid">
        <!-- Left side: inputs -->
        <div class="pane">
          <section class="panel" aria-labelledby="inputs">
            <div class="head">
              <span id="inputs" class="label">Inputs</span>
            </div>

            <div class="inputs">
              <div>
                <label for="c11">C11</label>
                <input id="c11" type="number" step="any" value="200">
              </div>

              <div>
                <label for="c12">C12</label>
                <input id="c12" type="number" step="any" value="120">
              </div>

              <div>
                <label for="c44">C44</label>
                <input id="c44" type="number" step="any" value="100">
              </div>
            </div>

            <div class="panel" style="margin-top:14px">
              <div class="row">
                <div>
                  <label for="yOptional">Y for H (optional)</label>
                  <input id="yOptional" type="number" step="any" value="0">
                  <div class="warn" id="warn"></div>
                </div>
                <button id="calc" class="btn">Calculate</button>
              </div>
            </div>
          </section>

          <section class="panel" style="margin-top:14px" aria-labelledby="refs">
            <span id="refs" class="label">Formulas</span>
            <div style="color:var(--muted); line-height:1.65; margin-top:8px">
              G = (Gv + Gr)/2, with Gv = (C11 − C12 + 3C44)/2 and
              Gr = 5(C11 − C12)C44 / (4C44 + 3(C11 − C12))<br>
              B = (C11 + 2C12)/3; Y = 9GB/(G + 3B); ν = (3B − 2G)/(6B + 2G); A = 2C44/(C11 − C12)<br>
              Cs⟨100⟩ = C44; Cs⟨110⟩ = (C11 − C12)/2; H = (1 − 2ν)Y / (6(1 + ν))
            </div>
          </section>
        </div>

        <!-- Right side: results -->
        <div class="pane">
          <section class="panel" aria-labelledby="results">
            <div class="head">
              <span id="results" class="label">Results</span>
            </div>
            <div id="kv" class="kv" aria-live="polite"></div>
          </section>
        </div>
      </div>

      <!-- Footer -->
      <div class="foot">
        Use consistent units (e.g., GPa) so outputs keep the same scale; H is unitless if Y matches G and B.
      </div>
    </div>

    <script>
      (function(){
        // Elements
        const el = {
          c11:  document.getElementById('c11'),
          c12:  document.getElementById('c12'),
          c44:  document.getElementById('c44'),
          y:    document.getElementById('yOptional'),
          kv:   document.getElementById('kv'),
          warn: document.getElementById('warn'),
          btn:  document.getElementById('calc'),
        };

        // Utilities
        const fmt = n => Number.isFinite(n) ? n.toFixed(6) : String(n);

        function kvRow(key, value){
          const k = document.createElement('div'); k.className='k';   k.textContent=key;
          const s = document.createElement('div'); s.className='sep'; s.textContent=':';
          const v = document.createElement('div'); v.className='v';   v.textContent=value;
          el.kv.append(k,s,v);
        }

        function num(input, name){
          const t = input.value.trim();
          if (!t) throw new Error(`${name} cannot be empty`);
          const v = Number(t);
          if (!Number.isFinite(v)) throw new Error(`${name} must be numeric`);
          return v;
        }

        // Core calculation
        function calculate(){
          try{
            el.warn.textContent = '';
            el.kv.innerHTML = '';

            const C11 = num(el.c11, 'C11');
            const C12 = num(el.c12, 'C12');
            const C44 = num(el.c44, 'C44');

            // Stability tips
            const tips = [];
            if (C11 <= Math.abs(C12)) tips.push('C11 should exceed |C12|');
            if (C11 + 2*C12 <= 0)    tips.push('C11 + 2C12 should be positive');
            if (C44 <= 0)            tips.push('C44 should be positive');
            if (tips.length) el.warn.textContent = 'Stability: ' + tips.join(' · ');

            // Shear moduli
            const Gv = (C11 - C12 + 3*C44)/2;
            const Gr = (5*(C11 - C12)*C44) / (4*C44 + 3*(C11 - C12));
            const G  = (Gv + Gr)/2;

            // Bulk, Young, Poisson
            const B  = (C11 + 2*C12)/3;
            const Y  = (9*G*B)/(G + 3*B);
            const nu = (3*B - 2*G)/(6*B + 2*G);

            // Anisotropy, tetragonal shear
            const A     = (2*C44)/(C11 - C12);
            const Cs100 = C44;
            const Cs110 = (C11 - C12)/2;

            // Micro-hardness parameter
            const YH = Number(el.y.value) > 0 ? Number(el.y.value) : Y;
            const H  = ((1 - 2*nu) * YH) / (6*(1 + nu));

            // Output
            kvRow('Gv (Voigt)', fmt(Gv));
            kvRow('Gr (Reuss)', fmt(Gr));
            kvRow('G (avg)',    fmt(G));
            kvRow('B',          fmt(B));
            kvRow('Y',          fmt(Y));
            kvRow('ν (nu)',     fmt(nu));
            kvRow('A',          fmt(A));
            kvRow('Cs ⟨100⟩',   fmt(Cs100));
            kvRow('Cs ⟨110⟩',   fmt(Cs110));
            kvRow('H',          fmt(H));
          }catch(e){
            el.kv.innerHTML = '';
            el.warn.textContent = e.message || String(e);
          }
        }

        // Init
        el.btn.addEventListener('click', calculate);
        calculate();
      })();
    </script>
  </body>
</html>
